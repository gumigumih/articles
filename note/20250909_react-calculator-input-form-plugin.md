---
title: "【npm公開】React電卓入力フォームプラグインを作ってみた感想"
note_hashtags: "#React #TypeScript #npm #個人開発 #プラグイン #感想"
date: 2025-09-09
---

# 【npm公開】React電卓入力フォームプラグインを作ってみた感想

こんにちは、ぐみと申します。

先日、`@gumigumih/react-calculator-input-form`というReact電卓入力フォームプラグインをnpmに公開しました。

今回は、このプラグインを作ってみた感想や、開発を通じて学んだことについて書いてみたいと思います。

## プラグインを作ろうと思ったきっかけ

実は、このプラグインを作ろうと思ったのは、私が開発している2つのアプリがきっかけでした。

**開発時間は約12時間！** めっちゃ楽しかったです！

**そして、これが私の初めてのnpmパッケージです！** 🎉

### 「わりまる」と「わけたべ」での共通課題

- **わりまる**: 複数人での支払い割り勘アプリ
- **わけたべ**: 料理ごとの詳細割り勘アプリ

両方のアプリで、金額入力のUIを一から実装していました。電卓機能、税計算、数値フォーマット... 似たような機能を毎回作るのは面倒だなと思っていたんです。

「これ、共通化できないかな？」と思ったのが始まりでした。

## 開発で苦労したこと

### 1. 設計の難しさ

最初は「電卓コンポーネント」と「入力フォーム」を分けて作ろうと思っていました。でも、実際に使ってみると、分離しすぎると使いにくくなってしまう...

最終的には、`CalculatorInputForm`という統合されたコンポーネントに落ち着きました。シンプルだけど、必要な機能は全部入っているというバランスが大切でした。

**オプション設定できる項目を柔軟に設けて、説明サイトにデモをたくさん用意しました！** これにより、ユーザーが自分の用途に合わせてカスタマイズしやすくなっています。

### 2. TypeScriptの型定義

`react-number-format`との統合で、型定義が複雑になってしまいました。特に、`numberFormatOptions`の型をどう定義するかで悩みました。

最終的には、`react-number-format`の型をそのまま活用することで解決。既存のライブラリの型を活用する大切さを学びました。

### 3. テストの重要性

最初は「動けばいいや」と思っていましたが、npmパッケージとして公開するとなると、テストは必須です。

特に、税計算のロジックや数値フォーマットの動作は、テストがないと安心して使えません。テストを書くことで、バグの早期発見にもつながりました。

#### 動作チェックで苦労したこと

プラグインの動作を確認してみると、`document.body`が準備される前に実行されてしまい、モーダルが生成されなかったり、CSSが読み込まれなかったりする問題が発生...

これはプラグイン自体の問題で、DOMの準備が整う前に実行されてしまうことが原因でした。

最終的には、CSSをJSに組み込んで、別途importが不要になるようにすることで解決。これにより、動作チェック時にもCSSの問題が発生しなくなり、ユーザーにとっても使いやすいプラグインになりました。

## 作ってみて良かったこと

### 1. 開発効率の向上

プラグイン化することで、新しいプロジェクトでも同じ機能を簡単に実装できるようになりました。

「わりまる」と「わけたべ」の両方で、このプラグインを使っていますが、改善点があれば両方のアプリに反映されるのが嬉しいです。

### 2. コミュニティへの貢献

個人開発者として、Reactエコシステムに少しでも貢献できたことが嬉しいです。

まだ他の開発者に使ってもらった体験はありませんが、誰か使ってくれると嬉しいなと思います！

### 3. 技術的な成長

プラグイン開発を通じて、以下のような技術的な成長がありました：

- TypeScriptの型定義の理解が深まった
- **初めてのnpmパッケージ公開！** 🎉
- npmパッケージの公開プロセスを学べた
- テスト駆動開発の重要性を実感
- DOM操作やCSS-in-JSの実装方法の理解が深まった
- CSS-in-JSの実装方法を学んだ
- ドキュメント作成の大切さを学んだ

## 今後の展望

### 短期目標

- バグ修正とパフォーマンス改善
- ユーザーからのフィードバック対応

### 長期目標（億票）

**多言語対応**

- UIテキストの多言語化
- 税計算の地域対応
- 英語でのドキュメント充実

## 作ってみての感想

### プラグイン開発は楽しい

最初は「大変そう」と思っていましたが、実際に作ってみると楽しいです。

**約12時間で完成できたのは、本当に楽しかったからです！** 集中して開発していると、時間を忘れてしまうくらい没頭できました。

まだ他の開発者に使ってもらった体験はありませんが、誰か使ってくれると嬉しいなと思います！

### 完璧を求めすぎない

最初は「完璧なプラグインを作ろう」と思っていましたが、完璧を求めすぎると、いつまでたっても公開できません。

「まずは動くものを作って、ユーザーのフィードバックをもらいながら改善していく」というアプローチが大切だと学びました。

### 継続的な改善が重要

プラグインの公開はゴールではなく、スタートです。

ユーザーからの要望や、自分自身の使用体験を通じて、継続的に改善していくことが大切だと感じています。

## まとめ

React電卓入力フォームプラグインを作ってみて、個人開発者としての成長を実感できました。

技術的なスキルだけでなく、プロダクト設計やユーザー体験についても考える機会になり、とても良い経験でした。

今後も、このプラグインを改善しながら、Reactエコシステムの発展に貢献していきたいと思います。

もし興味を持っていただけましたら、ぜひ一度お試しください！

---

📚 **関連リンク**

- [npmパッケージ](https://www.npmjs.com/package/@gumigumih/react-calculator-input-form)
- [GitHubリポジトリ](https://github.com/gumigumih/react-calculator-input-form)
- [わりまる（複数人での支払い割り勘）](https://warimaru.meggumi.com/)
- [わけたべ（料理ごとの詳細割り勘）](https://waketabe.meggumi.com/)

---

最後まで読んでいただき、ありがとうございました！
もし気に入っていただけましたら、ぜひシェアをお願いします。

また、ご意見・ご要望などございましたら、お気軽にコメントください。
